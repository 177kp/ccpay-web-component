<div class="mkpay-unidentified">
  <div *ngIf="viewStatus === 'mainForm'">
  <h1 class="heading-large">Mark payment as unsolicited</h1>
  <div class="govuk-grid-column-full govuk-!-padding-bottom-3">
    <hr class="govuk-section-break govuk-section-break--visible">
    <table class="govuk-table">
      <thead class="govuk-table__head">
        <tr class="govuk-table__row">
             <td class="govuk-table__header" scope="col">Payment DCN</td>
            <td class="govuk-table__header" scope="col">Date received</td>
            <td class="govuk-table__header" scope="col">Amount</td>
            <td class="govuk-table__header" scope="col">Method</td>
            <td class="govuk-table__header" scope="col">Channel</td>

        </tr>
      </thead>
      <tbody class="govuk-table__body">
        <tr class="govuk-table__row">
            <td class="govuk-table__cell">{{ unassignedRecord.ccd_ref}}</td>
            <td class="govuk-table__cell">{{ unassignedRecord.banked_date | date:'dd MMM yyyy' }}</td>
            <td class="govuk-table__cell">{{ unassignedRecord.amount | currency :'GBP':'symbol':'1.2-2'}}</td>
            <td class="govuk-table__cell">{{ unassignedRecord.payment_method }}</td>
            <td class="govuk-table__cell"></td>
        </tr>
      </tbody>
    </table>
  </div>
  <form [formGroup]="markPaymentUnsolicitedForm" novalidate>
    <div class="govuk-form-group">
      <label class="govuk-label govuk-label--s" for="reason">
        Reason for payment being marked as unsolicited.     
      </label>
      <input class="govuk-input govuk-input--width-20 govuk-!-margin-right-1" [ngClass]="{'inline-error-class': reasonHasError}" id="reason" name="reason" type="text" formControlName="reason">
      <p [ngClass]="{'inline-error-message': reasonHasError}" *ngIf="reasonHasError">Enter a reason for marking this payment as unsolicited</p>

    </div>
    <div class="govuk-form-group">
      <label class="govuk-label govuk-label--s" for="responsibleOffice">
        Receiving Site ID (Receiving Court/Bulk Centre Site ID)    
      </label>
      <input class="govuk-input govuk-input--width-20 govuk-!-margin-right-1" [ngClass]="{'inline-error-class': responsibleOfficeHasError}" id="responsibleOffice" name="responsibleOffice" type="text" formControlName="responsibleOffice">
      <p [ngClass]="{'inline-error-message': responsibleOfficeHasError}" *ngIf="responsibleOfficeHasError">Enter receiving site ID</p>

    </div>
    <div class="govuk-form-group">
      <label class="govuk-label govuk-label--s" for="responsiblePerson">
        Sending e-mail Address (Team/Person responsible at receiving Court/Bulk Centre)      
      </label>
      <input class="govuk-input govuk-input--width-20 govuk-!-margin-right-1" [ngClass]="{'inline-error-class': responsiblePersonHasError}" id="responsiblePerson" name="responsiblePerson" type="text" formControlName="responsiblePerson">
      <p [ngClass]="{'inline-error-message': responsiblePersonHasError}" *ngIf="responsiblePersonHasError">Enter sending e-mail Address</p>

    </div>
    <div class="govuk-form-group">
      <label class="govuk-label govuk-label--s" for="emailId">
        Receiving e-mail Address (Receiving email address â€“ assuming shared mailbox)
      </label>
      <input class="govuk-input govuk-input--width-20 govuk-!-margin-right-1" [ngClass]="{'inline-error-class': emailIdHasError}" id="emailId" name="emailId" type="text" formControlName="emailId">
      <p [ngClass]="{'inline-error-message': emailIdHasError}" *ngIf="emailIdHasError">Enter receiving e-mail Address</p>

    </div>
    <div class="govuk-button--group">
      <button type="submit" class="button" (click)="saveAndContinue()">
        Confirm
      </button>
      <button type="button" class="button govuk-button--secondary" (click)="cancelMarkUnsolicitedPayments('cancel')">
        Cancel
      </button>
    </div>
  </form>
</div>
       <ng-container *ngIf="viewStatus === 'unsolicitedContinueConfirm'">
      <div class="govuk-warning-text">
        <span class="govuk-warning-text__icon" aria-hidden="true">!</span>
        <strong class="govuk-warning-text__text">
        <span class="govuk-warning-text__assistive">Warning</span>
          Are you sure you want to mark this payment as unsolicited?
        </strong>
      </div>
      <div class="govuk-button--group">
        <button type="submit" class="button" (click)="confirmPayments()">
          Confirm
        </button>
        <button type="button" class="button govuk-button--secondary" (click)="cancelMarkUnsolicitedPayments()">
          Cancel
        </button>
      </div>
    </ng-container>
      <ng-container *ngIf="viewStatus === 'unsolicitedCancelConfirm'">
      <div class="govuk-warning-text">
        <span class="govuk-warning-text__icon" aria-hidden="true">!</span>
        <strong class="govuk-warning-text__text">
        <span class="govuk-warning-text__assistive">Warning</span>
          Are you sure you want to cancel?
        </strong>
      </div>
      <div class="govuk-button--group">
        <button type="submit" class="button" (click)="gotoCasetransationPage()">
          Yes
        </button>
        <button type="button" class="button govuk-button--secondary" (click)="cancelMarkUnsolicitedPayments()">
          No
        </button>
      </div>
    </ng-container>
</div>