<div class="allocate-payments">
  <div *ngIf="viewStatus==='mainForm'">
    <h2 class="govuk-heading-l">Allocate payment to fee group</h2>
<div class="payment-group-section" *ngFor="let paymentGroup of paymentGroups let i = index">
                <input id="'unpaiedFee-{{1}}"
                name="unassignedRecord"
                type="radio"
                (click)="selectedPaymentGroup(paymentGroup)"
              />
            <span class="heading-medium">   
    
                Group reference: {{paymentGroup.payment_group_reference}}</span>
    <table class="govuk-table">
      <thead class="govuk-table__head">
        <tr class="govuk-table__row">
            <td class="govuk-table__header" scope="col">Fee code</td>
            <td class="govuk-table__header" scope="col">Fee description</td>
            <td class="govuk-table__header" scope="col">Volume</td>
            <td class="govuk-table__header" scope="col">Fee amount</td>
            <td class="govuk-table__header" scope="col">Calculated Amount</td>
            <td class="govuk-table__header" scope="col">Fee Outstanding</td>
          </tr>
      </thead>
      <tbody class="govuk-table__body" >
        <tr class="govuk-table__row"  *ngFor="let fee of paymentGroup.fees">
            <td class="govuk-table__cell govuk-table__cell--col1">{{fee.code}}</td>
            <td class="govuk-table__cell govuk-table__cell--col2"> {{fee.description}} </td>
            <td class="govuk-table__cell govuk-table__cell--col3"> {{fee.volume}} </td>
            <td class="govuk-table__cell govuk-table__cell--col4"> {{ fee.calculated_amount/fee.volume }} </td>
            <td class="govuk-table__cell govuk-table__cell--col5"> {{fee.calculated_amount}} </td>
            <td class="govuk-table__cell govuk-table__cell--col6"> {{getGroupOutstandingAmount(paymentGroup)}} </td>

          </tr>

      </tbody>
      <tbody class="govuk-table__body" *ngIf="isRecordExist">
        <td class="govuk-table__cell" colspan="6">No payments recorded</td>
      </tbody>
    </table>
</div>
<div class="govuk-button-group-allocate">
    <button type="button" class="button govuk-!-margin-right-1" (click)="saveAndContinue()">
      Continue
    </button>
    <button type="button" class="button govuk-button--secondary" (click)="gotoCasetransationPage()">
      Cancel
    </button>
</div>
</div>
      <ng-container *ngIf="viewStatus === 'allocatePaymentConfirmation'">
    <h2 class="govuk-heading-l">Allocate payment to fee group</h2>
<div class="payment-group-section" >
            <span class="heading-medium">   
                Group reference: {{selectedPayment.payment_group_reference}}</span>
    <table class="govuk-table">
      <thead class="govuk-table__head">
        <tr class="govuk-table__row">
            <td class="govuk-table__header" scope="col">Fee code</td>
            <td class="govuk-table__header" scope="col">Fee description</td>
            <td class="govuk-table__header" scope="col">Volume</td>
            <td class="govuk-table__header" scope="col">Fee amount</td>
            <td class="govuk-table__header" scope="col">Calculated Amount</td>
            <td class="govuk-table__header" scope="col">Fee Outstanding</td>
          </tr>
      </thead>
      <tbody class="govuk-table__body" >
        <tr class="govuk-table__row"  *ngFor="let fee of selectedPayment.fees">
            <td class="govuk-table__cell govuk-table__cell--col1">{{fee.code}}</td>
            <td class="govuk-table__cell govuk-table__cell--col2"> {{fee.description}} </td>
            <td class="govuk-table__cell govuk-table__cell--col3"> {{fee.volume}} </td>
            <td class="govuk-table__cell govuk-table__cell--col4"> {{ fee.calculated_amount/fee.volume }} </td>
            <td class="govuk-table__cell govuk-table__cell--col5"> {{fee.calculated_amount}} </td>
            <td class="govuk-table__cell govuk-table__cell--col6"> {{getGroupOutstandingAmount(selectedPayment)}} </td>

          </tr>

      </tbody>
      <tbody class="govuk-table__body" *ngIf="isRecordExist">
        <td class="govuk-table__cell" colspan="6">No payments recorded</td>
      </tbody>
    </table>
</div>
      <div class="govuk-button--group">
        <button type="submit" class="button" (click)="confirmAllocatePayement()">
          Confirm
        </button>
        <button type="button" class="button govuk-button--secondary" (click)="cancelAllocatePayment()">
          Cancel
        </button>
      </div>
    </ng-container>

</div>

